---
name: Labels

on: # yamllint disable-line rule:truthy
  workflow_call: {}

jobs:
  label-syncer:
    name: Sync
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          token: "${{ secrets.GITHUB_TOKEN }}"
      - name: Download manifest file
        id: manifest-file
        run: |
          path="${GITHUB_WORKSPACE}/.github/labels.yml"
          curl -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
            -o "${path}" \
            "https://raw.githubusercontent.com/fabasoad/reusable-workflows/main/.github/labels.yml"
          echo "path=${path}" >> "$GITHUB_OUTPUT"
      - name: Run Label Syncer
        uses: micnncim/action-label-syncer@v1
        with:
          token: "${{ secrets.GITHUB_TOKEN }}"
